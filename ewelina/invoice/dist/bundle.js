// jscs:disable
!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function o(t){var e=t.replace(/-/g,"");if(0==/^[0-9]{10}$/.test(e))return!1;var n=(""+e).split(""),r=(6*parseInt(n[0])+5*parseInt(n[1])+7*parseInt(n[2])+2*parseInt(n[3])+3*parseInt(n[4])+4*parseInt(n[5])+5*parseInt(n[6])+6*parseInt(n[7])+7*parseInt(n[8]))%11;return parseInt(n[9])==r}function a(t){t.iscompany?m.default.executeScript([P],getCompanyData):m.default.executeScript([{messages:[{type:10,content:{label:"Podaj proszę dane do faktury - imię, nazwisko i adres."}}],prompt:{type:20,name:"address",validator:function(t,e){if(T.default.isString(e)){return T.default.single(e,{presence:!0,length:{minimum:6,tooShort:"Ten adres jest za krótki..."}})}return!1}}}],function(t){m.default.executeScript([{messages:[{type:10,content:{label:"dane które umieścimy na fakturze:"}}]},{messages:[{type:10,content:{label:""+t.address}}]},{messages:[{type:10,content:{label:"Czy te dane są poprawne?"}}],prompt:{type:10,choice:[{value:1,label:"Tak"},{value:0,label:"Nie"}],name:"correct",validator:function(t,e){return!1}}}],function(e){e.correct?u({address:t.address,nip:"0000000000"}):a({iscompany:!1})})})}function s(t){return[{messages:[{type:10,content:{label:"oto dane firmy które znalazłam na podstawie podanego NIP-u..."}}]},{messages:[{type:10,content:{label:t.getInvoiceData.name+",\n\t\t\t\t\t\t"+t.getInvoiceData.address+",\n\t\t\t\t\t\t"+t.getInvoiceData.zipCode+" "+t.getInvoiceData.locality+", \n\t\t\t\t\t\tREGON "+t.getInvoiceData.regon+"\n\t\t\t\t\t\t"}}]},{messages:[{type:10,content:{label:"Czy te dane są poprawne?"}}],prompt:{type:10,choice:[{value:1,label:"Tak"},{value:0,label:"Nie"}],name:"correct",validator:function(t,e){return!1}}}]}function u(t){var e={method:"POST",body:JSON.stringify({query:'\n\t\t\t\tmutation {\n\t\t\t\t\tRequestInvoice(invoiceForPayment: "'+i("pid")+'", taxId: "'+t.nip+'"'+(t.address?', address: "'+t.address+'"':"")+") {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}",variables:null})};return(0,f.default)(M,e).then(function(t){return t.json()}).then(function(t){return m.default.executeScript([{messages:[{type:10,content:{label:"Faktura wystawiona na te dane zostanie wysłana na adres email podany przy rejestracji."}},{type:10,content:{label:"Dziękuję, Miłego dnia."}}]}]),t}).catch(function(t){m.default.executeScript([{messages:[{type:10,content:{label:"Przepraszam ale moje narzędzia w tej chwili nie działają, proszę spróbować trochę później..."}}]}])})}var l=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["",""],["",""]),c=t("isomorphic-fetch"),f=r(c),d=t("./lib/hyperhtml"),p=r(d),h=t("./controllers/chat"),m=r(h),y=t("./models/storage"),v=r(y),b=t("./views/header"),g=(r(b),t("./views/main")),w=r(g),x=t("./views/footer"),_=(r(x),t("validate.js")),T=r(_);t("es6-promise").polyfill(),window.Raven.config("https://4e05107f4af9435787096099c91fd9f5@sentry.io/98261").install();var M="http://localhost:8010/dpreg-167318/us-central1/main",E=p.default.bind(document.querySelector(".app")),j=p.default.wire();m.default.init(v.default,function(t){E(l,[(0,w.default)(j,t)])});var P={topic:2313,messages:[{type:10,content:{label:"Podaj proszę Numer Identyfikacji Podatkowej (NIP) firmy na którą powinnam wystawić faktuę w polu ponżej..."}}],prompt:{type:20,name:"nip",validator:function(t,e){return!o(e)&&"ten numer NIP nie jest poprawny, spróbój jeszcze raz..."}}};m.default.executeScript([{messages:[{type:10,content:{label:"Dziękujemy za płatność..."}}]},{messages:[{type:10,content:{label:"Czy faktura ma być wystawiona dla firmy czy osoby fizycznej?"}}],prompt:{type:10,choice:[{value:1,label:"Dla Firmy"},{value:0,label:"Dla Osoby Fizycznej"}],name:"iscompany"}}],a),window.getCompanyData=function(t){var e={method:"POST",body:JSON.stringify({query:'\n\t\t\t{ \n\t\t\t\tgetInvoiceData(tid: "'+t.nip+'") {\n\t\t\t\t\ttaxId\n\t\t\t\t\tregon\n\t\t\t\t\tname\n\t\t\t\t\tlocality\n\t\t\t\t\tzipCode\n\t\t\t\t\taddress\n\t\t\t\t}\n\t\t\t}',variables:null})};return(0,f.default)(M,e).then(function(t){return t.json()}).then(function(t){return m.default.executeScript(s(t.data),function(t){t.correct?u(t):m.default.executeScript([P],getCompanyData)}),t}).catch(function(t){m.default.executeScript([{messages:[{type:10,content:{label:"Przepraszam ale moje narzędzia w tej chwili nie działają, proszę spróbować trochę później..."}}]}])})},m.default.update()},{"./controllers/chat":2,"./lib/hyperhtml":3,"./models/storage":5,"./views/footer":10,"./views/header":11,"./views/main":12,"es6-promise":16,"isomorphic-fetch":17,"validate.js":23}],2:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Math.floor(Math.random()*(e-t))+t}Object.defineProperty(n,"__esModule",{value:!0});var o=t("rifraf"),a=r(o),s=t("../models/message"),u=r(s),l=t("scroll-into-view"),c=r(l),f=t("validate.js"),d=(r(f),{ENTER_KEY:13,ESC_KEY:27,average_cpm:240,init:function(t,e){var n=this;this.botName="Ewelina",this.botAvatar="https://dentalprocess.pl/static/706cabf3f9.png",this.userName="Ty",this.finalError='Doszliśmy do punktu w ktorym coś jest nie tak, prosimy o maila na <a href="mailto:kontakt@dentalprocess.pl" target="_blank">kontakt@dentalprocess.pl</a> z opisem problemu.',this.items=t.get(),this.question=!1,this.answers={},this.update=function(){n.items;e(n)},window.onhashchange=this.update},sendMessage:function(t,e,n){var r=(0,u.default)(t);d.items.push(r);var i=function(){var t=this;a.default.delay(function(){r.viewed=!0,e?a.default.delay(function(){e(),(0,c.default)(document.getElementById(r.id))},t,window.deliveryDelay||1500):(0,c.default)(document.getElementById(r.id))},this,2)};if(e&&"h"!==r.actorType){var o=Math.min(window.typingTime||1250,Math.max(r.content.label.length/d.average_cpm*47.5*100,1250));a.default.delay(function(){r.delivered=!0,d.update(),i()},void 0,o)}else r.delivered=!0,i();d.update(),t.transformTo&&a.default.delay(function(){d.items[d.items.length-1].transformTo=null,d.update()},void 0,1)},executeTopic:function(t){var e=t;if(e.random){var n=t.messages[i(0,e.messages.length-1)];e.messages=[n]}!function t(n){n<e.messages.length?(e.messages[n].actor=d.botName,e.messages[n].avatar=d.botAvatar,e.messages[n].actorType="b",d.sendMessage(e.messages[n],function(){t(n+1)})):e.prompt?(d.prompt=e.prompt,d.update()):d.nextBranch()}(0)},nextBranch:function(){var t=d.script.shift();t?d.executeTopic(t):d.scriptCallback&&d.scriptCallback(d.answers)},executeScript:function(t,e){d.script=t,d.scriptCallback=e,d.nextBranch()},promptResponse:function(t){var e=d.prompt.validator||function(){return!1};d.prompt.retries=d.prompt.retries||0;var n=e(d.prompt.name,t.value);if(n)d.prompt.retries=(d.prompt.retries||0)+1,d.prompt.retries>3?d.sendMessage({type:10,actor:"!",content:{label:d.finalError}}):d.sendMessage({type:10,actor:d.botName,content:{label:n}});else{ga("send","event","Registrations",d.prompt.name,"Fall Campaign"),d.answers[d.prompt.name]=t.value,t.actor=d.userName,t.actorType="h",d.prompt=null;var r=document.getElementById(d.items[d.items.length-1].id),i=r.getBoundingClientRect();t.transformToX=t.transformTo.right-i.right+12,t.transformToY=Math.abs(t.transformTo.top-i.bottom)-42,t.delivered=!0,d.sendMessage(t,function(){if(window.pauses)return void(window.nextStep=d.nextBranch.bind(this));d.nextBranch()},250)}},setBotName:function(t){d.botName=t},setUserName:function(t){d.userName=t}});n.default=d},{"../models/message":4,rifraf:21,"scroll-into-view":22,"validate.js":23}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t){return x in this&&this[x].s===t?b.apply(this,arguments):g.apply(this,arguments)}function e(t,e){for(var n,r=M?_:T,i=O.call(t.attributes),a=0,s=i.length;a<s;a++)n=i[a],n.value===r&&e.push(o(t,n))}function n(t,r){for(var o,u,l=O.call(t.childNodes),c=l.length,f=0;f<c;f++)switch(o=l[f],o.nodeType){case 1:e(o,r),n(o,r);break;case 8:o.textContent===_&&(1===c?(r.push(i(t)),t.removeChild(o)):!(f<1||1===l[f-1].nodeType)||f+1!==c&&1!==l[f+1].nodeType?(u=t.ownerDocument.createTextNode(""),r.push(s(u)),t.replaceChild(u,o)):r.push(a(o)))}}function i(t){return function e(n){switch(void 0===n?"undefined":r(n)){case"string":t.innerHTML=n;break;case"number":case"boolean":t.textContent=n;break;default:if(Array.isArray(n))if(1===n.length)e(n[0]);else if("string"==typeof n[0])e(n.join(""));else{var i=l(t.childNodes,n);-1<i&&m(t,n,i)}else f(t,n)}}}function o(t,e){var n=e.name,r=w.test(n);return r&&t.removeAttribute(n),r?function(e){t[n]=e}:function(t){e.value=t}}function a(t){var e=document.createDocumentFragment(),n=[];return function i(o){var a,s=t.parentNode;switch(void 0===o?"undefined":r(o)){case"string":case"number":case"boolean":d(n,0),c(e,o),n=O.call(e.childNodes),s.insertBefore(e,t);break;default:Array.isArray(o)?0===o.length?i(o[0]):"string"==typeof o[0]?i(o.join("")):-1<(a=l(n,o))&&(d(n,a),o=o.slice(a),u(e,o),s.insertBefore(e,t),n.push.apply(n,o)):(d(n,0),n=11===o.nodeType?O.call(o.childNodes):[o],s.insertBefore(o,t))}}}function s(t){return function(e){t.textContent=e}}function u(t,e){for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])}function l(t,e){if(t===e)return-1;for(var n=0,r=t.length,i=e.length;n<r;){if(!(n<i&&t[n]===e[n]))return n;n++}return n===i?-1:n}function c(t,e){var n=t.ownerDocument.createElement("template");n.innerHTML=e,u(t,O.call((n.content||n).childNodes))}function f(t,e){switch(e.nodeType){case 1:var n=t.childNodes;1===n.length&&n[0]===e||p(t,e);break;case 11:-1<l(t.childNodes,e.childNodes)&&p(t,e);break;case 3:t.textContent=e.textContent}}function d(t,e){for(var n,r=t.length;e<r--;)n=t[r],n.parentNode.removeChild(n)}function p(t,e){t.textContent="",t.appendChild(e)}function h(t){for(var e,n=[],r=t.childNodes,i=0,o=r.length;i<o;i++)e=r[i],(1===e.nodeType||0<P.call(e.textContent).length)&&n.push(e);return o=n.length,o<2?(e=o<1?t:n[0],function(){return e}):function(){return n}}function m(t,e,n){var r=t.ownerDocument.createDocumentFragment();0<n?(d(t.childNodes,n),u(r,e.slice(n)),t.appendChild(r)):(u(r,e),p(t,r))}function y(){var e,n,r,i,o;return function(a){return o!==a&&(i=!0,o=a,n=document.createDocumentFragment(),r=t.bind(n)),r.apply(null,arguments),i&&(i=!1,e=h(n)),e()}}function v(t){return A.get(t)||(A.set(t,y()),v(t))}function b(t){for(var e=1,n=arguments.length,r=this[x].u;e<n;e++)r[e-1](arguments[e]);return this}function g(t){var e=[],r=t.join(T);return M&&(r=r.replace(E,j)),1===this.nodeType?this.innerHTML=r:c(this,r),n(this,e),this[x]={s:t,u:e},b.apply(this,arguments)}t.wire=function(t){return arguments.length<1?y():v(t)};var w=/^(?:on[a-z]+|async|autofocus|autoplay|capture|checked|controls|deferred|disabled|formnovalidate|loop|multiple|muted|required)$/,x="_hyper_html: ",_=x+(Math.random()*new Date|0)+";",T="<!--"+_+"-->",M="documentMode"in document,E=M&&new RegExp("([^\\S][a-z]+[a-z0-9_-]*=)(['\"])"+T+"\\2","g"),j=M&&"$1$2"+_+"$2",P=x.trim||function(){return this.replace(/^\s+|\s+$/g,"")},O=[].slice,A=("undefined"==typeof WeakMap?"undefined":r(WeakMap))===(void 0===A?"undefined":r(A))?{get:function(t){return t[x]},set:function(t,e){Object.defineProperty(t,x,{configurable:!0,value:e})}}:new WeakMap;return t.SPECIAL_ATTRIBUTE=w,t}();n.default=i},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};n.default=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{actor:t.actor,actorType:t.actorType,avatar:t.avatar,type:t.type,content:t.content,delivered:t.delivered,viewed:t.viewed,id:r(),createdAt:Date.now(),transformTo:t.transformTo,transformToX:t.transformToX,transformToY:t.transformToY}}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={get:function(){return JSON.parse(localStorage.getItem("nerdbear")||"[]")},set:function(t){return localStorage.setItem("nerdbear",JSON.stringify(t))}}},{}],6:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t\t\t<li id="','" class="','">','<div class="','" \n          style="','">',"</div></li>\n  "],['\n\t\t\t<li id="','" class="','">','<div class="','" \n          style="','">',"</div></li>\n  "]),o=t("../lib/hyperhtml"),a=(r(o),t("./bubbles")),s=r(a);n.default=function(t,e,n,r){return t(i,e.id,"Pos(r) Px(1em) Py(0) M(0) "+("h"===e.actorType?"Ta(end)":""),e.actor===(n>0?r[n-1].actor:"")?"":(e.avatar?'<a target="_blank" href="http://twitter.com/nerdbear">\n            <img class="Trs(atr) Bdrs(100%) Pos(a) H(34px) W(34px) T(26px) Start(0) Z(99)'+(e.delivered?"":" fading")+'" src="'+e.avatar+'">\n        </a>':"")+'\n\t\t\t\t<a target="_blank" href="http://twitter.com/nerdbear" class="Mt(16px) Mend(0) Mstart(36px) Mb(6px) Px(10px) Fz(.85em) D(b) C(#888888) O(1) Td(n) '+(e.delivered?"":"actorfade")+'">\n            '+e.actor+"\n        </a>","Bxsh(bblsh) D(ib) Lh(1.45em) Bdrs(3px) M(0) Mstart(34px) Mb(.8em) Ta(s) Pos(r) Py(6px) Px(12px) Fz(19px) Bd(n) Maw(526px) Miw(28px) Mih(30px) Ov(h) bubble-anim"+(e.delivered?"h"===e.actorType?"":e.viewed?"":" bubble-transition":" bubble")+("h"===e.actorType?" Bgc(#432d4a) C(#ffffff)":" Bgc(#ffffff)"),e.transformTo?"transform: translate("+e.transformToX+"px, "+e.transformToY+"px);":"transform: translate(0px,0px);",e.delivered?(0,s.default)(t,e):'<p class="Fz(2em) P(0) M(0) typing"><span>.</span><span>.</span><span>.</span></p>')}},{"../lib/hyperhtml":3,"./bubbles":8}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(t,e){return'<a class="Td(n) Bdrs(3px) Pos(r) Lh(1.5em) Fz(0.75em) Bg(n) D(b) C(#8e8e8e)'+(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?" -card-img":"")+'" target="_blank" href="'+e.content.targetUrl+'">\n    <img class="D(b) My(4px) Mx(0) Maw(100%) Mah(300px)" width='+e.content.dimensions.width+" height="+e.content.dimensions.height+' src="'+e.content.imageUrl+'">'+e.content.label+"\n   </a>"}},{}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./text"),o=r(i),a=t("./card"),s=r(a),u={10:o.default,20:s.default};n.default=function(t,e,n){var r=u[e.type];return void 0!==r?r(t,e,n):(console.log("Upss, that shouldnt have happened.."),"")}},{"./card":7,"./text":9}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){return"<span>"+e.content.label+"</span>"}},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t<footer class="footer" style="','">\n\t\t<span class="todo-count">\n\t\t\t<strong> '," </strong> item",' left\n\t\t</span>\n\t\t<ul class="filters">\n\t\t\t<li><a class="','" href="#/">All</a></li>\n\t\t\t<li><a class="','" href="#/active">Active</a></li>\n\t\t\t<li><a class="','" href="#/completed">Completed</a></li>\n\t\t</ul>\n\t\t<button\n\t\t\tclass="clear-completed"\n\t\t\tonclick="','"\n\t\t\tstyle="','"\n\t\t>Clear completed</button>\n\t</footer>'],['\n\t<footer class="footer" style="','">\n\t\t<span class="todo-count">\n\t\t\t<strong> '," </strong> item",' left\n\t\t</span>\n\t\t<ul class="filters">\n\t\t\t<li><a class="','" href="#/">All</a></li>\n\t\t\t<li><a class="','" href="#/active">Active</a></li>\n\t\t\t<li><a class="','" href="#/completed">Completed</a></li>\n\t\t</ul>\n\t\t<button\n\t\t\tclass="clear-completed"\n\t\t\tonclick="','"\n\t\t\tstyle="','"\n\t\t>Clear completed</button>\n\t</footer>']),i=t("../controllers/chat"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a={true:"selected",false:""};n.default=function(t,e){var n=o.default.todosSize(),i=o.default.todosLeft(),s=o.default.hash();return t(r,n?"":"display:none",i,~-i?"s":"",a["all"===s],a["active"===s],a["completed"===s],o.default.clear,i<n?"":"display:none")}},{"../controllers/chat":2}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t<header class="header">\n\t\t<h1>todos</h1>\n\t\t<input\n\t\t\tonkeypress="','"\n\t\t\tclass="new-todo"\n\t\t\tplaceholder="What needs to be done?"\n\t\t\tautofocus>\n\t</header>'],['\n\t<header class="header">\n\t\t<h1>todos</h1>\n\t\t<input\n\t\t\tonkeypress="','"\n\t\t\tclass="new-todo"\n\t\t\tplaceholder="What needs to be done?"\n\t\t\tautofocus>\n\t</header>']),i=t("../controllers/chat"),o=function(t){return t&&t.__esModule?t:{default:t}}(i);n.default=function(t,e){return t(r,o.default.create)}},{"../controllers/chat":2}],12:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\t<section class="main Pos(r) Bxz(bb) Maw(640px) Fz(0.8em) M(a) P(8px)">\n\t\t<ol class="List(n) P(0) Mx(0) Mt(0) Mb(148px)">','</ol>\n\t\t<div class="Ta(c) Pos(f) P(6px) M(0) B(0) Start(0) End(0)">',"</div>\n\t</section>"],['\n\t<section class="main Pos(r) Bxz(bb) Maw(640px) Fz(0.8em) M(a) P(8px)">\n\t\t<ol class="List(n) P(0) Mx(0) Mt(0) Mb(148px)">','</ol>\n\t\t<div class="Ta(c) Pos(f) P(6px) M(0) B(0) Start(0) End(0)">',"</div>\n\t</section>"]),o=t("../lib/hyperhtml"),a=r(o),s=t("./bubble.js"),u=r(s),l=t("../controllers/chat"),c=(r(l),t("./prompts")),f=r(c);n.default=function(t,e){return t(i,e.items.map(function(t,e,n){return(0,u.default)(a.default.wire(t),t,e,n)}),e.prompt?(0,f.default)(a.default.wire(e),e.prompt):"")}},{"../controllers/chat":2,"../lib/hyperhtml":3,"./bubble.js":6,"./prompts":14}],13:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e="SPAN"===t.target.tagName?t.target.parentElement:t.target,n=e.getBoundingClientRect();l.default.promptResponse({type:10,value:this.value,content:{label:this.label},transformTo:n})}Object.defineProperty(n,"__esModule",{value:!0});var o=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['<div onclick="','" class="Us(n) My(12px) Mx(6px) Fl(n) Cur(p) Bgc(#432d4a) C(#ffffff) Bxsh(bblsh) D(ib) Lh(1.45em) Bdrs(3px) Ta(s) Pos(r) Py(6px) Px(12px) Fz(19px) Bd(n) Maw(560px) Miw(44px) Mih(12px) input" style="','">\n    <span>',"</span>\n  </div>"],['<div onclick="','" class="Us(n) My(12px) Mx(6px) Fl(n) Cur(p) Bgc(#432d4a) C(#ffffff) Bxsh(bblsh) D(ib) Lh(1.45em) Bdrs(3px) Ta(s) Pos(r) Py(6px) Px(12px) Fz(19px) Bd(n) Maw(560px) Miw(44px) Mih(12px) input" style="','">\n    <span>',"</span>\n  </div>"]),a=t("../../lib/hyperhtml"),s=r(a),u=t("../../controllers/chat"),l=r(u);n.default=function(t,e){return e.choice.map(function(t,e,n){return s.default.wire(t)(o,i.bind(t),"animation: slide-in "+(650+50*e)/1e3+"s ease-in-out;",t.label)})}},{"../../controllers/chat":2,"../../lib/hyperhtml":3}],14:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./choice"),o=r(i),a=t("./input"),s=r(a),u={10:o.default,20:s.default};n.default=function(t,e){var n=u[e.type];return void 0!==n?n(t,e):(console.log("Upss, that shouldnt have happened.."),"")}},{"./choice":13,"./input":15}],15:[function(t,e,n){"use strict";function r(t){this.spellcheck=!1,this.classList.remove("input_answer_placeholder")}function i(t){t.keyCode===l.default.ENTER_KEY&&(t.preventDefault(),o())}function o(){var t=(document.body.getBoundingClientRect(),document.getElementById("inel")),e=t.getBoundingClientRect();t.textContent="",t.classList.add("input_answer_placeholder"),l.default.promptResponse({type:10,value:c,content:{label:c},transformTo:e})}function a(t){c=t.target.textContent.trim()}Object.defineProperty(n,"__esModule",{value:!0});var s=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['<div class="My(12px) Mx(6px) Cur(p) Fl(n) Bgc(#432d4a) C(#ffffff) Bxsh(bblsh) D(ib) Whs(nw) Lh(1.45em) Bdrs(3px) Ta(s) Pos(r) Py(6px) Px(12px) Fz(19px) Bd(n) Maw(526px) Miw(28px) Mih(12px) O(0)" \n        style="animation: slide-in 0.65s ease-in-out;"\n        style="transform: translate3d(0px, 0px, 0px);"\n        >\n          <div id="inel" class="D(ib) Maw(100%) Bdb(opsp5tw) Bd(n) Whs(n) Miw(1em) Maw(526px) Mih(1em) O(0) input_answer_placeholder"\n            contenteditable="true"\n            onfocus="','" \n            onkeypress="','"\n            onkeyup="','"\n          >\n            <span></span>\n          </div>\n        </div>\n        <div class="D(ib) Mah(19px) Maw(19px)">\n          <div class="Miw(26px) Pt(1px) Pstart(2px)" onclick="','">\n            <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96" style="display: block;">\n              <style>.st0{fill:#000000;}</style>\n                <g id="XMLID_2_">\n                  <path id="XMLID_4_" class="st0" d="M15.5 15.5l6.3 29.7L60.2 48l-38.4 2.8-6.3 29.7 65-32.5z"/>\n                </g>\n              </svg>\n            <div>    \n          </div>'],['<div class="My(12px) Mx(6px) Cur(p) Fl(n) Bgc(#432d4a) C(#ffffff) Bxsh(bblsh) D(ib) Whs(nw) Lh(1.45em) Bdrs(3px) Ta(s) Pos(r) Py(6px) Px(12px) Fz(19px) Bd(n) Maw(526px) Miw(28px) Mih(12px) O(0)" \n        style="animation: slide-in 0.65s ease-in-out;"\n        style="transform: translate3d(0px, 0px, 0px);"\n        >\n          <div id="inel" class="D(ib) Maw(100%) Bdb(opsp5tw) Bd(n) Whs(n) Miw(1em) Maw(526px) Mih(1em) O(0) input_answer_placeholder"\n            contenteditable="true"\n            onfocus="','" \n            onkeypress="','"\n            onkeyup="','"\n          >\n            <span></span>\n          </div>\n        </div>\n        <div class="D(ib) Mah(19px) Maw(19px)">\n          <div class="Miw(26px) Pt(1px) Pstart(2px)" onclick="','">\n            <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96" style="display: block;">\n              <style>.st0{fill:#000000;}</style>\n                <g id="XMLID_2_">\n                  <path id="XMLID_4_" class="st0" d="M15.5 15.5l6.3 29.7L60.2 48l-38.4 2.8-6.3 29.7 65-32.5z"/>\n                </g>\n              </svg>\n            <div>    \n          </div>']),u=t("../../controllers/chat"),l=function(t){return t&&t.__esModule?t:{default:t}}(u),c="";n.default=function(t,e){return t(s,r,i,a,function(t){return o()})}},{"../../controllers/chat":2}],16:[function(t,e,n){(function(r,i){!function(t,r){"object"==typeof n&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.ES6Promise=r()}(this,function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function o(t){W=t}function a(t){X=t}function s(){return void 0!==V?function(){V(l)}:u()}function u(){var t=setTimeout;return function(){return t(l,1)}}function l(){for(var t=0;t<H;t+=2){(0,Z[t])(Z[t+1]),Z[t]=void 0,Z[t+1]=void 0}H=0}function c(t,e){var n=arguments,r=this,i=new this.constructor(d);void 0===i[tt]&&z(i);var o=r._state;return o?function(){var t=n[o-1];X(function(){return O(o,i,t,r._result)})}():M(r,i,t,e),i}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(d);return w(n,t),n}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(t){return it.error=t,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function v(t,e,n){X(function(t){var r=!1,i=y(n,e,function(n){r||(r=!0,e!==n?w(t,n):_(t,n))},function(e){r||(r=!0,T(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,T(t,i))},t)}function b(t,e){e._state===nt?_(t,e._result):e._state===rt?T(t,e._result):M(e,void 0,function(e){return w(t,e)},function(e){return T(t,e)})}function g(t,e,r){e.constructor===t.constructor&&r===c&&e.constructor.resolve===f?b(t,e):r===it?(T(t,it.error),it.error=null):void 0===r?_(t,e):n(r)?v(t,e,r):_(t,e)}function w(t,n){t===n?T(t,p()):e(n)?g(t,n,m(n)):_(t,n)}function x(t){t._onerror&&t._onerror(t._result),E(t)}function _(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&X(E,t))}function T(t,e){t._state===et&&(t._state=rt,t._result=e,X(x,t))}function M(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+nt]=n,i[o+rt]=r,0===o&&t._state&&X(E,t)}function E(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?O(n,r,i,o):i(o);t._subscribers.length=0}}function j(){this.error=null}function P(t,e){try{return t(e)}catch(t){return ot.error=t,ot}}function O(t,e,r,i){var o=n(r),a=void 0,s=void 0,u=void 0,l=void 0;if(o){if(a=P(r,i),a===ot?(l=!0,s=a.error,a.error=null):u=!0,e===a)return void T(e,h())}else a=i,u=!0;e._state!==et||(o&&u?w(e,a):l?T(e,s):t===nt?_(e,a):t===rt&&T(e,a))}function A(t,e){try{e(function(e){w(t,e)},function(e){T(t,e)})}catch(e){T(t,e)}}function S(){return at++}function z(t){t[tt]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function B(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[tt]||z(this.promise),U(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&_(this.promise,this._result))):T(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function k(t){return new B(this,t).promise}function C(t){var e=this;return new e(U(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function N(t){var e=this,n=new e(d);return T(n,t),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(t){this[tt]=S(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&F(),this instanceof R?A(this,t):I())}function L(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=R}var q=void 0;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U=q,H=0,V=void 0,W=void 0,X=function(t,e){Z[H]=t,Z[H+1]=e,2===(H+=2)&&(W?W(l):Q())},Y="undefined"!=typeof window?window:void 0,$=Y||{},G=$.MutationObserver||$.WebKitMutationObserver,K="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),Q=void 0;Q=K?function(){return function(){return r.nextTick(l)}}():G?function(){var t=0,e=new G(l),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():J?function(){var t=new MessageChannel;return t.port1.onmessage=l,function(){return t.port2.postMessage(0)}}():void 0===Y&&"function"==typeof t?function(){try{var e=t,n=e("vertx");return V=n.runOnLoop||n.runOnContext,s()}catch(t){return u()}}():u();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,it=new j,ot=new j,at=0;return B.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},B.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===f){var i=m(t);if(i===c&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===R){var o=new n(d);g(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},B.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?T(r,n):this._result[e]=n),0===this._remaining&&_(r,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;M(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},R.all=k,R.race=C,R.resolve=f,R.reject=N,R._setScheduler=o,R._setAsap=a,R._asap=X,R.prototype={constructor:R,then:c,catch:function(t){return this.then(null,t)}},R.polyfill=L,R.Promise=R,R})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:19}],17:[function(t,e,n){t("whatwg-fetch"),e.exports=self.fetch.bind(self)},{"whatwg-fetch":24}],18:[function(t,e,n){(function(t){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},i=n()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:19}],19:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function s(){y&&h&&(y=!1,h.length?m=h.concat(m):v=-1,m.length&&u())}function u(){if(!y){var t=o(s);y=!0;for(var e=m.length;e;){for(h=m,m=[];++v<e;)h&&h[v].run();v=-1,e=m.length}h=null,y=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f,d,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var h,m=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new l(t,e)),1!==m.length||y||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,
p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],20:[function(t,e,n){(function(n){for(var r=t("performance-now"),i="undefined"==typeof window?n:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,f=0,d=[];s=function(t){if(0===d.length){var e=r(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout(function(){var t=d.slice(0);d.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return d.push({handle:++f,callback:t,cancelled:!1}),f},u=function(t){for(var e=0;e<d.length;e++)d[e].handle===t&&(d[e].cancelled=!0)}}e.exports=function(t){return s.call(i,t)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(){i.requestAnimationFrame=s,i.cancelAnimationFrame=u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":18}],21:[function(t,e,n){function r(t){return function(e,n,r){var i=n,o=r;return"number"==typeof n&&void 0===r&&(o=n,i=void 0),t(e,i,o)}}function i(t,e){var n=void 0!==e?e:c;return l.setTimeout(t,n)}function o(t,e){return function(){s(t.apply.bind(t,e||this,arguments))}}function a(t){return"number"==typeof t&&(c=t)}var s,u,l,c=8,f=!0;s&&u||(l=function(){return this}(),s=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||i,(u=l.cancelAnimationFrame||l.mozCancelAnimationFrame||l.webkitCancelAnimationFrame||l.webkitCancelRequestAnimationFrame||l.clearTimeout)!==l.clearTimeout&&s!==i||(f=!1,s=i));var d=r(function t(e,n,t){return"object"==typeof n&&(e=e.bind(n)),i(e,t)}),p=r(function(t,e,n){return function(){i(t.apply.bind(t,e||this,arguments),n)}}),h=r(function(t,e,n){return d(o(t,e),n)}),m=r(function(t,e,n){return p(o(t,e),n)});e.exports={isNative:f,request:function(t,e){return s.call(l,arguments.length>1?t.bind(e):t)},iteratee:o,deferred:o,delay:f?h:d,delayed:f?m:p,cancel:u.bind(l),sync120Hz:a.bind(l,8),sync60Hz:a.bind(l,16),sync30Hz:a.bind(l,33),sync:a}},{}],22:[function(t,e,n){function r(t,e,n){t===window?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)}function i(t,e,n){var r,i,o,a,s,u,l,c=t.getBoundingClientRect(),f=n&&null!=n.left?n.left:.5,d=n&&null!=n.top?n.top:.5,p=n&&null!=n.leftOffset?n.leftOffset:0,h=n&&null!=n.topOffset?n.topOffset:0,m=f,y=d;if(e===window)u=Math.min(c.width,window.innerWidth),l=Math.min(c.height,window.innerHeight),i=c.left+window.pageXOffset-window.innerWidth*m+u*m,o=c.top+window.pageYOffset-window.innerHeight*y+l*y,i=Math.max(Math.min(i,document.body.scrollWidth-window.innerWidth*m),0),o=Math.max(Math.min(o,document.body.scrollHeight-window.innerHeight*y),0),i-=p,o-=h,a=i-window.pageXOffset,s=o-window.pageYOffset;else{u=c.width,l=c.height,r=e.getBoundingClientRect();var v=c.left-(r.left-e.scrollLeft),b=c.top-(r.top-e.scrollTop);i=v+u*m-e.clientWidth*m,o=b+l*y-e.clientHeight*y,i=Math.max(Math.min(i,e.scrollWidth-e.clientWidth),0),o=Math.max(Math.min(o,e.scrollHeight-e.clientHeight),0),i-=p,o-=h,a=i-e.scrollLeft,s=o-e.scrollTop}return{x:i,y:o,differenceX:a,differenceY:s}}function o(t){l(function(){var e=t._scrollSettings;if(e){var n=i(e.target,t,e.align),a=Date.now()-e.startTime,s=Math.min(1/e.time*a,1);if(a>e.time+20)return r(t,n.x,n.y),t._scrollSettings=null,e.end(c);var u=1-e.ease(s);r(t,n.x-n.differenceX*u,n.y-n.differenceY*u),o(t)}})}function a(t,e,n,r){function i(t){e._scrollSettings=null,e.parentElement&&e.parentElement._scrollSettings&&e.parentElement._scrollSettings.end(t),r(t),e.removeEventListener("touchstart",a)}var a,s=!e._scrollSettings,u=e._scrollSettings,l=Date.now();u&&u.end(f),e._scrollSettings={startTime:u?u.startTime:Date.now(),target:t,time:n.time+(u?l-u.startTime:0),ease:n.ease,align:n.align,end:i},a=i.bind(null,f),e.addEventListener("touchstart",a),s&&o(e)}function s(t){return parent===window||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function u(){return!0}var l=t("raf"),c="complete",f="canceled";e.exports=function(t,e,n){function r(t){--o||n&&n(t)}if(t){"function"==typeof e&&(n=e,e=null),e||(e={}),e.time=isNaN(e.time)?1e3:e.time,e.ease=e.ease||function(t){return 1-Math.pow(1-t,t/2)};for(var i=t.parentElement,o=0,l=e.validTarget||u;i;){if(l(i,o)&&s(i)&&(o++,a(t,i,e,r)),!(i=i.parentElement))return;"BODY"===i.tagName&&(i=window)}}}},{raf:20}],23:[function(t,e,n){(function(t,e,n){"use strict";var r=function(t,e,n){n=i.extend({},i.options,n);var o,a,s=i.runValidations(t,e,n);for(o in s)for(a in s[o])if(i.isPromise(s[o][a]))throw new Error("Use validate.async if you want support for promises");return r.processValidationResults(s,n)},i=r;i.extend=function(t){return[].slice.call(arguments,1).forEach(function(e){for(var n in e)t[n]=e[n]}),t},i.extend(r,{version:{major:0,minor:11,patch:1,metadata:null,toString:function(){var t=i.format("%{major}.%{minor}.%{patch}",i.version);return i.isEmpty(i.version.metadata)||(t+="+"+i.version.metadata),t}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(t,e,n){var r,o,a,s,u,l,c,f=[];(i.isDomElement(t)||i.isJqueryElement(t))&&(t=i.collectFormValues(t));for(r in e){a=i.getDeepObjectValue(t,r),s=i.result(e[r],a,t,r,n,e);for(o in s){if(!(u=i.validators[o]))throw c=i.format("Unknown validator %{name}",{name:o}),new Error(c);l=s[o],l=i.result(l,a,t,r,n,e),l&&f.push({attribute:r,value:a,validator:o,globalOptions:n,attributes:t,options:l,error:u.call(u,a,l,r,t,n)})}}return f},processValidationResults:function(t,e){t=i.pruneEmptyErrors(t,e),t=i.expandMultipleErrors(t,e),t=i.convertErrorMessages(t,e);var n=e.format||"grouped";if("function"!=typeof i.formatters[n])throw new Error(i.format("Unknown format %{format}",e));return t=i.formatters[n](t),i.isEmpty(t)?void 0:t},async:function(t,e,n){n=i.extend({},i.async.options,n);var r=n.wrapErrors||function(t){return t};n.cleanAttributes!==!1&&(t=i.cleanAttributes(t,e));var o=i.runValidations(t,e,n);return new i.Promise(function(a,s){i.waitForResults(o).then(function(){var u=i.processValidationResults(o,n);u?s(new r(u,n,t,e)):a(t)},function(t){s(t)})})},single:function(t,e,n){return n=i.extend({},i.single.options,n,{format:"flat",fullMessages:!1}),i({single:t},{single:e},n)},waitForResults:function(t){return t.reduce(function(t,e){return i.isPromise(e.error)?t.then(function(){return e.error.then(function(t){e.error=t||null})}):t},new i.Promise(function(t){t()}))},result:function(t){var e=[].slice.call(arguments,1);return"function"==typeof t&&(t=t.apply(null,e)),t},isNumber:function(t){return"number"==typeof t&&!isNaN(t)},isFunction:function(t){return"function"==typeof t},isInteger:function(t){return i.isNumber(t)&&t%1==0},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t===Object(t)},isDate:function(t){return t instanceof Date},isDefined:function(t){return null!==t&&void 0!==t},isPromise:function(t){return!!t&&i.isFunction(t.then)},isJqueryElement:function(t){return t&&i.isString(t.jquery)},isDomElement:function(t){return!!t&&(!(!t.querySelectorAll||!t.querySelector)&&(!(!i.isObject(document)||t!==document)||("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)))},isEmpty:function(t){var e;if(!i.isDefined(t))return!0;if(i.isFunction(t))return!1;if(i.isString(t))return i.EMPTY_STRING_REGEXP.test(t);if(i.isArray(t))return 0===t.length;if(i.isDate(t))return!1;if(i.isObject(t)){for(e in t)return!1;return!0}return!1},format:i.extend(function(t,e){return i.isString(t)?t.replace(i.format.FORMAT_REGEXP,function(t,n,r){return"%"===n?"%{"+r+"}":String(e[r])}):t},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(t){return i.isNumber(t)?100*t%1==0?""+t:parseFloat(Math.round(100*t)/100).toFixed(2):i.isArray(t)?t.map(function(t){return i.prettify(t)}).join(", "):i.isObject(t)?t.toString():(t=""+t,t.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n.toLowerCase()}).toLowerCase())},stringifyValue:function(t){return i.prettify(t)},isString:function(t){return"string"==typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isHash:function(t){return i.isObject(t)&&!i.isArray(t)&&!i.isFunction(t)},contains:function(t,e){return!!i.isDefined(t)&&(i.isArray(t)?t.indexOf(e)!==-1:e in t)},unique:function(t){return i.isArray(t)?t.filter(function(t,e,n){return n.indexOf(t)==e}):t},forEachKeyInKeypath:function(t,e,n){if(i.isString(e)){var r,o="",a=!1;for(r=0;r<e.length;++r)switch(e[r]){case".":a?(a=!1,o+="."):(t=n(t,o,!1),o="");break;case"\\":a?(a=!1,o+="\\"):a=!0;break;default:a=!1,o+=e[r]}return n(t,o,!0)}},getDeepObjectValue:function(t,e){if(i.isObject(t))return i.forEachKeyInKeypath(t,e,function(t,e){if(i.isObject(t))return t[e]})},collectFormValues:function(t,e){var n,r,o,a,s,u,l={};if(i.isJqueryElement(t)&&(t=t[0]),!t)return l;for(e=e||{},a=t.querySelectorAll("input[name], textarea[name]"),n=0;n<a.length;++n)o=a.item(n),i.isDefined(o.getAttribute("data-ignored"))||(u=i.sanitizeFormValue(o.value,e),"number"===o.type?u=u?+u:null:"checkbox"===o.type?o.attributes.value?o.checked||(u=l[o.name]||null):u=o.checked:"radio"===o.type&&(o.checked||(u=l[o.name]||null)),l[o.name]=u);for(a=t.querySelectorAll("select[name]"),n=0;n<a.length;++n){if(o=a.item(n),o.multiple){u=[];for(r in o.options)s=o.options[r],s.selected&&u.push(i.sanitizeFormValue(s.value,e))}else u=i.sanitizeFormValue(o.options[o.selectedIndex].value,e);l[o.name]=u}return l},sanitizeFormValue:function(t,e){return e.trim&&i.isString(t)&&(t=t.trim()),e.nullify!==!1&&""===t?null:t},capitalize:function(t){return i.isString(t)?t[0].toUpperCase()+t.slice(1):t},pruneEmptyErrors:function(t){return t.filter(function(t){return!i.isEmpty(t.error)})},expandMultipleErrors:function(t){var e=[];return t.forEach(function(t){i.isArray(t.error)?t.error.forEach(function(n){e.push(i.extend({},t,{error:n}))}):e.push(t)}),e},convertErrorMessages:function(t,e){e=e||{};var n=[];return t.forEach(function(t){var r=i.result(t.error,t.value,t.attribute,t.options,t.attributes,t.globalOptions);if(!i.isString(r))return void n.push(t);"^"===r[0]?r=r.slice(1):e.fullMessages!==!1&&(r=i.capitalize(i.prettify(t.attribute))+" "+r),r=r.replace(/\\\^/g,"^"),r=i.format(r,{value:i.stringifyValue(t.value)}),n.push(i.extend({},t,{error:r}))}),n},groupErrorsByAttribute:function(t){var e={};return t.forEach(function(t){var n=e[t.attribute];n?n.push(t):e[t.attribute]=[t]}),e},flattenErrorsToArray:function(t){return t.map(function(t){return t.error}).filter(function(t,e,n){return n.indexOf(t)===e})},cleanAttributes:function(t,e){function n(t,e,n){return i.isObject(t[e])?t[e]:t[e]=!!n||{}}function r(t,e){if(!i.isObject(t))return t;var n,o,a=i.extend({},t);for(o in t)n=e[o],i.isObject(n)?a[o]=r(a[o],n):n||delete a[o];return a}return i.isObject(e)&&i.isObject(t)?(e=function(t){var e,r={};for(e in t)t[e]&&i.forEachKeyInKeypath(r,e,n);return r}(e),r(t,e)):{}},exposeModule:function(t,e,n,r,i){n?(r&&r.exports&&(n=r.exports=t),n.validate=t):(e.validate=t,t.isFunction(i)&&i.amd&&i([],function(){return t}))},warn:function(t){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+t)},error:function(t){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+t)}}),r.validators={presence:function(t,e){if(e=i.extend({},this.options,e),e.allowEmpty?!i.isDefined(t):i.isEmpty(t))return e.message||this.message||"can't be blank"},length:function(t,e,n){if(i.isDefined(t)){e=i.extend({},this.options,e);var r,o=e.is,a=e.maximum,s=e.minimum,u=e.tokenizer||function(t){return t},l=[];t=u(t);var c=t.length;return i.isNumber(c)?(i.isNumber(o)&&c!==o&&(r=e.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",l.push(i.format(r,{count:o}))),i.isNumber(s)&&c<s&&(r=e.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",l.push(i.format(r,{count:s}))),i.isNumber(a)&&c>a&&(r=e.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",l.push(i.format(r,{count:a}))),l.length>0?e.message||l:void 0):(i.error(i.format("Attribute %{attr} has a non numeric value for `length`",{attr:n})),e.message||this.notValid||"has an incorrect length")}},numericality:function(t,e){if(i.isDefined(t)){e=i.extend({},this.options,e);var n,r,o=[],a={greaterThan:function(t,e){return t>e},greaterThanOrEqualTo:function(t,e){return t>=e},equalTo:function(t,e){return t===e},lessThan:function(t,e){return t<e},lessThanOrEqualTo:function(t,e){return t<=e},divisibleBy:function(t,e){return t%e==0}};if(i.isString(t)&&e.strict){var s="^(0|[1-9]\\d*)";if(e.onlyInteger||(s+="(\\.\\d+)?"),s+="$",!new RegExp(s).test(t))return e.message||e.notValid||this.notValid||this.message||"must be a valid number"}if(e.noStrings!==!0&&i.isString(t)&&!i.isEmpty(t)&&(t=+t),!i.isNumber(t))return e.message||e.notValid||this.notValid||this.message||"is not a number";if(e.onlyInteger&&!i.isInteger(t))return e.message||e.notInteger||this.notInteger||this.message||"must be an integer";for(n in a)if(r=e[n],i.isNumber(r)&&!a[n](t,r)){var u="not"+i.capitalize(n),l=e[u]||this[u]||this.message||"must be %{type} %{count}";o.push(i.format(l,{count:r,type:i.prettify(n)}))}return e.odd&&t%2!=1&&o.push(e.notOdd||this.notOdd||this.message||"must be odd"),e.even&&t%2!=0&&o.push(e.notEven||this.notEven||this.message||"must be even"),o.length?e.message||o:void 0}},datetime:i.extend(function(t,e){if(!i.isFunction(this.parse)||!i.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(i.isDefined(t)){e=i.extend({},this.options,e);var n,r=[],o=e.earliest?this.parse(e.earliest,e):NaN,a=e.latest?this.parse(e.latest,e):NaN;return t=this.parse(t,e),isNaN(t)||e.dateOnly&&t%864e5!=0?(n=e.notValid||e.message||this.notValid||"must be a valid date",i.format(n,{value:arguments[0]})):(!isNaN(o)&&t<o&&(n=e.tooEarly||e.message||this.tooEarly||"must be no earlier than %{date}",n=i.format(n,{value:this.format(t,e),date:this.format(o,e)}),r.push(n)),!isNaN(a)&&t>a&&(n=e.tooLate||e.message||this.tooLate||"must be no later than %{date}",n=i.format(n,{date:this.format(a,e),value:this.format(t,e)}),r.push(n)),r.length?i.unique(r):void 0)}},{parse:null,format:null}),date:function(t,e){return e=i.extend({},e,{dateOnly:!0}),i.validators.datetime.call(i.validators.datetime,t,e)},format:function(t,e){(i.isString(e)||e instanceof RegExp)&&(e={pattern:e}),e=i.extend({},this.options,e);var n,r=e.message||this.message||"is invalid",o=e.pattern;if(i.isDefined(t))return i.isString(t)?(i.isString(o)&&(o=new RegExp(e.pattern,e.flags)),n=o.exec(t),n&&n[0].length==t.length?void 0:r):r},inclusion:function(t,e){if(i.isDefined(t)&&(i.isArray(e)&&(e={within:e}),e=i.extend({},this.options,e),!i.contains(e.within,t))){var n=e.message||this.message||"^%{value} is not included in the list";return i.format(n,{value:t})}},exclusion:function(t,e){if(i.isDefined(t)&&(i.isArray(e)&&(e={within:e}),e=i.extend({},this.options,e),i.contains(e.within,t))){var n=e.message||this.message||"^%{value} is restricted";return i.format(n,{value:t})}},email:i.extend(function(t,e){e=i.extend({},this.options,e);var n=e.message||this.message||"is not a valid email";if(i.isDefined(t))return i.isString(t)&&this.PATTERN.exec(t)?void 0:n},{PATTERN:/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i}),equality:function(t,e,n,r){if(i.isDefined(t)){i.isString(e)&&(e={attribute:e}),e=i.extend({},this.options,e);var o=e.message||this.message||"is not equal to %{attribute}";if(i.isEmpty(e.attribute)||!i.isString(e.attribute))throw new Error("The attribute must be a non empty string");var a=i.getDeepObjectValue(r,e.attribute);return(e.comparator||function(t,e){return t===e})(t,a,e,n,r)?void 0:i.format(o,{attribute:i.prettify(e.attribute)})}},url:function(t,e){if(i.isDefined(t)){e=i.extend({},this.options,e);var n=e.message||this.message||"is not a valid url",r=e.schemes||this.schemes||["http","https"],o=e.allowLocal||this.allowLocal||!1;if(!i.isString(t))return n;var a="^(?:(?:"+r.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",s="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";o?s+="?":a+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",a+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+s+")(?::\\d{2,5})?(?:[/?#]\\S*)?$";return new RegExp(a,"i").exec(t)?void 0:n}}},r.formatters={detailed:function(t){return t},flat:i.flattenErrorsToArray,grouped:function(t){var e;t=i.groupErrorsByAttribute(t);for(e in t)t[e]=i.flattenErrorsToArray(t[e]);return t},constraint:function(t){var e;t=i.groupErrorsByAttribute(t);for(e in t)t[e]=t[e].map(function(t){return t.validator}).sort();return t}},r.exposeModule(r,this,t,e,n)}).call(this,void 0!==n?n:null,void 0!==e?e:null,"undefined"!=typeof define?define:null)},{}],24:[function(t,e,n){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function l(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&g(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=d(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&b.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];y.redirect=function(t,e){if(_.indexOf(e)===-1)throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=p,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL"),n(new y("response"in o?o.response:o.responseText,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}]},{},[1]);
